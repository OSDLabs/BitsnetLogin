#!/bin/sh

# Check if wget installed
if ! which wget > /dev/null ; then
    echo "wget not installed"
    exit
fi
# Check if git installed for update
if ! which git > /dev/null ; then
    echo "git not installed"
    exit
fi
# Check if nmcli installed
if ! which nmcli > /dev/null ; then
    echo "nmcli not installed"
    exit
fi

# Copy config file to the right place
if ! which bitsnet > /dev/null ; then
    cp ./bitsnetrc ~/.bitsnetrc
fi

# Copy the script to executables
if [ ! -d ~/.local/lib/bitsnet ]; then
    mkdir ~/.local/lib/bitsnet
fi
cp ./util.sh ~/.local/lib/bitsnet/util.sh
cp ./bitsnet ~/.local/bin/bitsnet

# Create a desktop file
cp ./bitsnet.desktop ~/.local/share/applications/bitsnet.desktop

# Set to autostart
if [ ! -d ~/.config/autostart ]; then
    mkdir -p ~/.config/autostart
fi
ln -sf ~/.local/share/applications/bitsnet.desktop ~/.config/autostart/bitsnet.desktop

# Create a man page
# To Be Done
